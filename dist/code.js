!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=273)}({273:function(e,t,n){"use strict";n.r(t);var o=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};function i(e,t){const n=e.clone();return n.rescale(t),n}function r(e){const t=figma.createFrame(),n=e.clone();return t.layoutMode="HORIZONTAL",t.counterAxisAlignItems="CENTER",t.primaryAxisAlignItems="CENTER",t.counterAxisSizingMode="FIXED",t.primaryAxisSizingMode="FIXED",n.layoutAlign="INHERIT",n.layoutGrow=0,t.insertChild(0,n),t.resize(224,224),t}function a(e,t){let n=[],o=[];e.forEach(e=>{if(n=[...n,e],"FRAME"===e.type||"GROUP"===e.type){const t=e.findAll();o=[...o,t]}});const i=[].concat.apply([],o),r=n.concat(i);return[...new Set(r)].filter(e=>!t.includes(e.type))}figma.showUI(__html__),figma.ui.onmessage=e=>o(void 0,void 0,void 0,(function*(){if("clickPredictButton"===e.type)if(figma.currentPage.selection.length<1)figma.ui.postMessage({type:"emptySelection"});else{!function(e){figma.ui.postMessage({type:"processingRequest",data:e})}(yield function(e){return o(this,void 0,void 0,(function*(){const e=a(figma.currentPage.selection,["TEXT","VECTOR"]);return yield function(e){return o(this,void 0,void 0,(function*(){let t=[];for(const n of e){const e=n.width,o=n.height,a=Math.max(o,e),c=Number(224/a).toFixed(2),u=a>224?i(n,parseFloat(c)):n,l=r(u),f=n.id,s=yield l.exportAsync({format:"JPG"});t=[...t,{nodeId:f,imageDataBytes:s}],u!==n&&u.remove(),l!==n&&l.remove()}return t}))}(e)}))}(figma.currentPage.selection))}if("response"===e.type){const t=a(figma.currentPage.selection,["TEXT","VECTOR"]),n=e.payload,o=(new Date).getTime();for(const e of t){e.name="Frame";for(let t of n)e.id===t.nodeId&&(e.name=t.prediction);if("RECTANGLE"===e.type){"IMAGE"===e.fills[0].type&&(e.name="Image")}if("FRAME"===e.type||"GROUP"===e.type){const t=e.findAll();if(t.length>1){t.every(e=>"TEXT"===e.type)&&(e.name="Paragraph container")}}const t=e.parent;t.name===e.name&&"Container"!==t.name&&"Card"!==t.name&&"Horizontal container"!==t.name&&"Vertical container"!==t.name&&(t.name=e.name+" container")}const i=(new Date).getTime();console.log(`[Figma]: Renaming layer time: ${i-o}s`)}"close"===e.type&&figma.closePlugin()}))}});